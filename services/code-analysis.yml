  php:
      platform: linux/x86_64
      build:
          context: containers/php
          args:
              PHP_VERSION: ${PHP_VERSION}
              HOST_USER_ID: ${HOST_USER_ID}
              HOST_GROUP_ID: ${HOST_GROUP_ID}
              HOST_USER_NAME: ${HOST_USER_NAME}
              HOST_GROUP_NAME: ${HOST_GROUP_NAME}
      volumes:
          - ./source:/var/www:cached
          - ./data/php:/var/sync:cached
          - ./data/composer:/home/${HOST_USER_NAME}/.composer/:cached
      user: ${HOST_USER_ID}:${HOST_GROUP_ID}

  php_dependency_analysis:
    image: mamuz/phpda

  php_pdepend:
    image: composer
    command: composer global require pdepend/pdepend:^2 --no-suggest --no-ansi --no-interaction
